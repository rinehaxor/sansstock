---
import Layout from '../layouts/Layout.astro';
import FAQ from '../components/FAQ.astro';

// Site URL akan otomatis detect dari environment variable atau request
const siteUrl = import.meta.env.SITE_URL || Astro.site?.href || (Astro.url ? `${Astro.url.protocol}//${Astro.url.host}` : 'http://localhost:4321');
const pageUrl = `${siteUrl}/faq`;
const pageTitle = 'Pertanyaan yang Sering Diajukan - EmitenHub';
const pageDescription = 'Temukan jawaban untuk pertanyaan umum seputar investasi saham, pasar modal, dan ekonomi di EmitenHub.';
const pageImage = `${siteUrl}/logo.png`;
---

<Layout 
  title={pageTitle}
  description={pageDescription}
  keywords="FAQ investasi, pertanyaan saham, panduan investasi, tanya jawab pasar modal"
>
  <Fragment slot="head">
    {/* Robots Meta */}
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow" />
    
    {/* Open Graph */}
    <meta property="og:type" content="website" />
    <meta property="og:title" content={pageTitle} />
    <meta property="og:description" content={pageDescription} />
    <meta property="og:image" content={pageImage} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:url" content={pageUrl} />
    <meta property="og:site_name" content="EmitenHub" />
    <meta property="og:locale" content="id_ID" />
    
    {/* Twitter Card */}
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={pageTitle} />
    <meta name="twitter:description" content={pageDescription} />
    <meta name="twitter:image" content={pageImage} />
    
    {/* Canonical URL */}
    <link rel="canonical" href={pageUrl} />
    
    {/* Structured Data (JSON-LD) - FAQPage */}
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": {
        "@type": "ItemList",
        "itemListElement": [
          // FAQ items akan di-generate dari komponen FAQ jika diperlukan
        ]
      }
    })} />
    
    {/* Structured Data (JSON-LD) - BreadcrumbList */}
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Beranda",
          "item": siteUrl
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "FAQ",
          "item": pageUrl
        }
      ]
    })} />
  </Fragment>

  <main class="min-h-screen bg-gray-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      {/* Header */}
      <div class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
          Pertanyaan yang Sering Diajukan
        </h1>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto">
          Temukan jawaban untuk pertanyaan umum seputar investasi saham, pasar modal, dan ekonomi
        </p>
      </div>

      {/* FAQ Content */}
      <div class="bg-white rounded-xl p-8 shadow-sm">
        <FAQ />
      </div>
    </div>
  </main>
</Layout>

