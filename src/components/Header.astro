---
// Header component untuk blog berita ekonomi dan saham
import { Image } from 'astro:assets';
import logo from '../assets/logo.png';
---

<header class="bg-white/95 backdrop-blur-md border-b border-gray-200/80 sticky top-0 z-50 transition-all duration-300">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex items-center justify-between h-16">
      <!-- Logo dan Brand -->
      <div class="flex-shrink-0">
        <a href="/" class="flex items-center gap-3 text-gray-900 hover:scale-105 transition-transform duration-200">
          <Image src={logo} alt="SansStocks Logo" width={140} height={120} format="webp" class="object-contain" />
        
        </a>
      </div>

      <!-- Navigation Menu -->
      <nav class="hidden md:flex items-center">
        <ul class="flex space-x-8">
          <li>
            <a href="/" class="text-gray-700 hover:text-blue-600 font-medium text-sm py-2 px-1 relative transition-colors duration-200 after:absolute after:bottom-[-1rem] after:left-0 after:right-0 after:h-0.5 after:bg-gradient-to-r after:from-blue-600 after:to-blue-700 after:rounded-sm">
              Beranda
            </a>
          </li>
          <li>
            <a href="/ekonomi" class="text-gray-700 hover:text-blue-600 font-medium text-sm py-2 px-1 transition-colors duration-200">
              Ekonomi
            </a>
          </li>
          <li>
            <a href="/saham" class="text-gray-700 hover:text-blue-600 font-medium text-sm py-2 px-1 transition-colors duration-200">
              Saham
            </a>
          </li>
          <li>
            <a href="/pasar" class="text-gray-700 hover:text-blue-600 font-medium text-sm py-2 px-1 transition-colors duration-200">
              Pasar
            </a>
          </li>
          <li>
            <a href="/analisis" class="text-gray-700 hover:text-blue-600 font-medium text-sm py-2 px-1 transition-colors duration-200">
              Analisis
            </a>
          </li>
          <li>
            <a href="/kripto" class="text-gray-700 hover:text-blue-600 font-medium text-sm py-2 px-1 transition-colors duration-200">
              Kripto
            </a>
          </li>
          <li>
            <a href="/underwriters" class="text-gray-700 hover:text-blue-600 font-medium text-sm py-2 px-1 transition-colors duration-200">
              History Underwriter IPO
            </a>
          </li>
        </ul>
      </nav>

      <!-- Search dan Actions -->
      <div class="flex items-center space-x-4">
        <!-- Search Box -->
        <form action="/search" method="get" class="hidden sm:block relative">
          <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input 
            type="text" 
            name="q"
            id="search-input"
            placeholder="Cari berita..." 
            class="pl-10 pr-4 py-2 w-48 border border-gray-300 rounded-lg bg-gray-50 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:bg-white transition-all duration-200"
          >
        </form>
        

        <!-- Mobile Menu Toggle -->
        <button class="md:hidden flex flex-col space-y-1 p-2" aria-label="Toggle mobile menu">
          <span class="w-6 h-0.5 bg-gray-700 transition-all duration-300"></span>
          <span class="w-6 h-0.5 bg-gray-700 transition-all duration-300"></span>
          <span class="w-6 h-0.5 bg-gray-700 transition-all duration-300"></span>
        </button>
      </div>
    </div>
  </div>
</header>

<!-- Mobile Menu -->
<div class="md:hidden bg-white border-b border-gray-200 hidden" id="mobile-menu">
  <div class="px-4 py-2 space-y-1">
    <a href="/" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Beranda</a>
    <a href="/ekonomi" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Ekonomi</a>
    <a href="/saham" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Saham</a>
    <a href="/pasar" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Pasar</a>
    <a href="/analisis" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Analisis</a>
    <a href="/kripto" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">Kripto</a>
    <a href="/underwriters" class="block px-3 py-2 text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-md">History Underwriter IPO</a>
    
    <!-- Mobile Search -->
    <div class="px-3 py-2 border-t border-gray-200 mt-2 pt-4">
      <form action="/search" method="get" class="relative">
        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
        <input 
          type="text" 
          name="q"
          id="mobile-search-input"
          placeholder="Cari berita..." 
          class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:bg-white transition-all duration-200"
        >
      </form>
    </div>
  </div>
</div>

<script is:inline>
  // Mobile menu toggle functionality
  document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuToggle = document.querySelector('[aria-label="Toggle mobile menu"]');
    const mobileMenu = document.getElementById('mobile-menu');
    
    if (mobileMenuToggle && mobileMenu) {
      mobileMenuToggle.addEventListener('click', function() {
        mobileMenu.classList.toggle('hidden');
      });
    }

    // Search form submit with Enter key
    const searchInput = document.getElementById('search-input');
    const mobileSearchInput = document.getElementById('mobile-search-input');
    
    if (searchInput) {
      searchInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && this.value.trim()) {
          this.closest('form')?.submit();
        }
      });
    }

    if (mobileSearchInput) {
      mobileSearchInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && this.value.trim()) {
          this.closest('form')?.submit();
        }
      });
    }
  });
</script>
